{% extends 'base.html' %}
{% block title %}Panel Admin{% endblock %}
{% block content %}
<h2>Gestión de Productos</h2>

<form method="POST" action="/agregar_producto">
    <label>Nombre:</label><br>
    <input type="text" name="nombre" required><br>

    <label>Descripción:</label><br>
    <input type="text" name="descripcion" required><br>

    <label>Precio:</label><br>
    <input type="number" name="precio" step="0.01" required><br>

    <label>Imagen:</label><br>
    <input type="text" name="imagen" required><br><br>

    <button type="submit">Agregar Producto</button>
</form>

<h3>Lista de Productos</h3>
<table border="1" cellpadding="5" cellspacing="0">
    <tr>
        <th>Nombre</th>
        <th>Descripción</th>
        <th>Precio</th>
        <th>Imagen</th>
        <th>Eliminar</th>
    </tr>
    {% for producto in productos %}
    <tr>
        <td>{{ producto.nombre }}</td>
        <td>{{ producto.descripcion }}</td>
        <td>${{ producto.precio }}</td>
        <td>
            {% if producto.imagen %}
                <img src="{{ url_for('static', filename='img/' + producto.imagen) }}" width="80">
            {% else %}
                <span>No hay imagen</span>
            {% endif %}
        </td>
        <td><a href="/eliminar_producto/{{ producto.id }}">Eliminar</a></td>
    </tr>
    {% endfor %}
</table>
{% endblock %}
